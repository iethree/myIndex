(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(3),l=a(6),u=a(1),i=a(5),s=a.n(i),o=a(0),m=a.n(o);function d(e){return m.a.createElement("div",{className:"field"},m.a.createElement("div",{className:"control"},m.a.createElement("input",{type:e.type||"text",value:e.value,className:"input",placeholder:e.placeholder||e.name,name:e.name,onChange:function(t){return e.onChange(t.target.value)},required:!0})))}function f(e){return m.a.createElement("div",{className:"control"},m.a.createElement("div",{className:"label"},"Read?"),e.options.map(function(t){return m.a.createElement("label",{className:"radio",key:t},m.a.createElement("input",{type:"radio",name:e.name,value:t,onChange:function(t){return e.onChange(t.target.value)},required:!0}),"\xa0",t)}))}function v(e,t){for(var a=[],n="000",r=0;n<e;r++)(n=t[r])[0]===e[0]&&("0"===n[1]&&"0"===n[2]?a.push(n):n[1]===e[1]&&"0"===n[2]?a.push(n):n[1]===e[1]&&n[2]===e[2]&&a.push(n));return a}function p(e){return"Fully"===e.read?Number(e.pages):"Partially"===e.read?Number(e.pages/2):0}function h(e,t){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return console.log(e)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}a(15);function E(e){document.title="Littlefoot Library";var t=Object(o.useState)(null),a=Object(u.a)(t,2),n=a[0],r=a[1],c=Object(o.useState)(null),i=Object(u.a)(c,2),s=i[0],d=i[1],f=Object(o.useState)(!0),v=Object(u.a)(f,2),p=v[0],y=v[1];return Object(o.useEffect)(function(){h("/data/getAllReads",{}).then(function(e){e.status&&r(e.reads)}),h("/data/getCategories",{}).then(function(e){e.status&&d(e.categories)})},[]),m.a.createElement(N,null,m.a.createElement("h1",{className:"title is-3 has-text-centered has-text-primary"},"Littlefoot Library"),p?m.a.createElement(b,{addRead:function(e){r([e].concat(Object(l.a)(n)))},hide:function(){return y(!1)}}):m.a.createElement("button",{className:"button is-primary",onClick:function(){return y(!0)}}," Add Read Record "),n&&s?m.a.createElement(m.a.Fragment,null,m.a.createElement(g,{reads:n,categories:s}),m.a.createElement(j,{reads:n})):null)}function b(e){var t=Object(o.useState)(""),a=Object(u.a)(t,2),n=a[0],l=a[1],i=Object(o.useState)(""),s=Object(u.a)(i,2),v=s[0],p=s[1],y=Object(o.useState)(""),E=Object(u.a)(y,2),b=E[0],g=E[1],j=Object(o.useState)(""),N=Object(u.a)(j,2),O=N[0],k=N[1],w=Object(o.useState)(""),S=Object(u.a)(w,2),x=S[0],C=S[1],R=Object(o.useState)(""),B=Object(u.a)(R,2),L=B[0],P=B[1];function D(e){return!!e.match(/^\d{3}\.\d/)}function T(){return(T=Object(c.a)(r.a.mark(function t(a){var c,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!(b>0&&D(x)&&O)){t.next=12;break}return document.getElementById("saveButton").classList.add("is-loading"),c={title:n,author:v,pages:b,dewey:x,read:O,date:new Date},e.addRead(c),t.next=7,h("/data/saveRead",c);case 7:l=t.sent,document.getElementById("saveButton").classList.remove("is-loading"),l.status?(A(),P("Record Saved")):P("Error Saving"),t.next=13;break;case 12:P("Missing or invalid input");case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function A(){C(""),k(""),l(""),p(""),g("")}return m.a.createElement("div",{className:"box"},m.a.createElement("form",null,m.a.createElement("h4",{className:"title is-5"},"New Read Record"),m.a.createElement(d,{name:"Title",onChange:l,value:n}),m.a.createElement(d,{name:"Author",onChange:p,value:v}),m.a.createElement(d,{name:"Pages",type:"number",onChange:g,value:b}),m.a.createElement(d,{name:"Dewey Decimal",onChange:C,value:x}),m.a.createElement(f,{name:"Read",options:["Fully","Partially","Unread"],onChange:k}),m.a.createElement("br",null),m.a.createElement("div",{className:"buttons is-centered"},m.a.createElement("button",{id:"saveButton",className:"button is-primary",type:"submit",onClick:function(e){return T.apply(this,arguments)}},"Save"),m.a.createElement("button",{className:"button",onClick:e.hide},"Close")),L?m.a.createElement("div",{className:"has-text-centered has-text-danger"},L):null))}function g(e){return m.a.createElement("div",{className:"summaryDisplay has-text-left"},m.a.createElement("h3",{className:"title is-5 has-text-centered"},"Reading Summary"),m.a.createElement("div",null,function(t,a){var n=[],r=function(e,t){var a=Object.keys(t).sort(),n=0,r={},c=!0,l=!1,u=void 0;try{for(var i,s=e[Symbol.iterator]();!(c=(i=s.next()).done);c=!0){var o=i.value;n+=p(o);var m=v(o.dewey,a),d=!0,f=!1,h=void 0;try{for(var y,E=m[Symbol.iterator]();!(d=(y=E.next()).done);d=!0){var b=y.value;r[b]?r[b]+=p(o):r[b]=p(o)}}catch(g){f=!0,h=g}finally{try{d||null==E.return||E.return()}finally{if(f)throw h}}}}catch(g){l=!0,u=g}finally{try{c||null==s.return||s.return()}finally{if(l)throw u}}return[n,r]}(t,a),c=Object(u.a)(r,2),l=c[0],i=c[1];for(var s in n.push(m.a.createElement("div",{key:"total"},"Total Pages Read: ",l," ")),n.push(m.a.createElement("div",{key:"categories"},"By Category:")),i)i[s]>0&&n.push(m.a.createElement("div",{className:"indent",key:s},e.categories[s]," : ",i[s]));return n}(e.reads,e.categories)))}function j(e){return m.a.createElement("div",null,m.a.createElement("h3",{className:"title is-5"},"Books Read"),e.reads.map(function(e){return m.a.createElement("div",{className:"read-item",key:e.date},m.a.createElement("div",{className:"read-left"},m.a.createElement("div",{key:"title"}," ",m.a.createElement("strong",null,e.title)),m.a.createElement("div",{key:"author"}," ",e.author," ")),m.a.createElement("div",{className:"read-right"},m.a.createElement("div",{key:"dewey"}," ",e.dewey," "),m.a.createElement("div",{key:"pages"}," ",e.pages," pages (",e.read,") ")))}))}function N(e){return m.a.createElement("div",{className:"main"},e.children)}a.d(t,"default",function(){return E}),s.a.render(m.a.createElement(E,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(17)}},[[7,2,1]]]);
//# sourceMappingURL=main.0fe8d365.chunk.js.map